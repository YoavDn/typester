import{o as r,a as d,b as e,d as w,v as x,C as f,D as v,s as k,l as T,t as h,g as y,e as c,q as p,A as $,u as W,c as _,n as A,z as C}from"./index.1a55ec13.js";function U(a,s){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z","clip-rule":"evenodd"})])}function L(a,s){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}const S={class:"login-form"},M=["onClick"],V=w({__name:"Register",emits:["handleRegister"],setup(a,{emit:s}){const t=x({username:"",password:"",email:""});function l(){s("handleRegister",t),t.email="",t.password="",t.username=""}return(m,u)=>(r(),d("form",S,[f(e("input",{"onUpdate:modelValue":u[0]||(u[0]=i=>t.email=i),name:"text",type:"email",placeholder:"Email",required:""},null,512),[[v,t.email]]),f(e("input",{"onUpdate:modelValue":u[1]||(u[1]=i=>t.username=i),name:"text",type:"text",placeholder:"Username",required:""},null,512),[[v,t.username]]),f(e("input",{"onUpdate:modelValue":u[2]||(u[2]=i=>t.password=i),name:"password",type:"password",placeholder:"Password",required:""},null,512),[[v,t.password]]),e("button",{onClick:k(l,["prevent"]),class:"login-btn"},"Sign up",8,M)]))}}),B={width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},R=e("path",{fill:"#EA4335",d:"M5.266 9.765A7.077 7.077 0 0 1 12 4.909c1.69 0 3.218.6 4.418 1.582L19.91 3C17.782 1.145 15.055 0 12 0 7.27 0 3.198 2.698 1.24 6.65l4.026 3.115Z"},null,-1),b=e("path",{fill:"#34A853",d:"M16.04 18.013c-1.09.703-2.474 1.078-4.04 1.078a7.077 7.077 0 0 1-6.723-4.823l-4.04 3.067A11.965 11.965 0 0 0 12 24c2.933 0 5.735-1.043 7.834-3l-3.793-2.987Z"},null,-1),G=e("path",{fill:"#4A90E2",d:"M19.834 21c2.195-2.048 3.62-5.096 3.62-9 0-.71-.109-1.473-.272-2.182H12v4.637h6.436c-.317 1.559-1.17 2.766-2.395 3.558L19.834 21Z"},null,-1),I=e("path",{fill:"#FBBC05",d:"M5.277 14.268A7.12 7.12 0 0 1 4.909 12c0-.782.125-1.533.357-2.235L1.24 6.65A11.934 11.934 0 0 0 0 12c0 1.92.445 3.73 1.237 5.335l4.04-3.067Z"},null,-1),O=[R,b,G,I];function q(a,s){return r(),d("svg",B,O)}const z={render:q},D={key:0,class:"login-signup-page"},Z={class:"login-title"},N={key:0,class:"login-with-options flex-column"},P=e("h2",null,"continue with google",-1),j=e("h2",null,"continue with Email",-1),H={key:1,class:"login-form"},F=["onClick"],J={key:3,class:"sign-up-p"},K=w({__name:"Login",props:{isWithEmail:null,user:null},emits:["setEmailOption","emailLogin","loginWithGoogle","handleRegister","register"],setup(a,{emit:s}){const t=T(!1),l=x({username:"",password:""});function m(){s("emailLogin",l),l.username="",l.password=""}function u(i){s("register",i)}return(i,n)=>a.user?p("",!0):(r(),d("section",D,[e("h2",Z,h(t.value?"Resgister":"Log in")+" to Typester",1),a.isWithEmail?p("",!0):(r(),d("div",N,[e("div",{onClick:n[0]||(n[0]=o=>i.$emit("loginWithGoogle")),class:"login-option google flex"},[y(c(z)),P]),e("div",{onClick:n[1]||(n[1]=o=>i.$emit("setEmailOption",!0)),class:"login-option email flex"},[y(c(L),{class:"email-svg"}),j])])),a.isWithEmail&&!t.value?(r(),d("form",H,[f(e("input",{"onUpdate:modelValue":n[2]||(n[2]=o=>l.username=o),name:"text",type:"text",placeholder:"Username",required:""},null,512),[[v,l.username]]),f(e("input",{"onUpdate:modelValue":n[3]||(n[3]=o=>l.password=o),name:"password",type:"password",placeholder:"Password",required:""},null,512),[[v,l.password]]),e("button",{onClick:k(m,["prevent"]),class:"login-btn"},"Login",8,F)])):p("",!0),t.value?(r(),$(V,{key:2,onHandleRegister:u})):p("",!0),a.isWithEmail&&!t.value?(r(),d("p",J,"Doesn't have an account ?")):p("",!0),a.isWithEmail&&!t.value?(r(),d("button",{key:4,onClick:n[4]||(n[4]=o=>t.value=!0),class:"sign-up-btn"},"Sign up")):p("",!0),a.isWithEmail?(r(),d("p",{key:5,class:"other-login-options",onClick:n[5]||(n[5]=o=>(i.$emit("setEmailOption",!1),t.value=!1))}," \u2190 Other Login Options")):p("",!0)]))}});const Q={class:"user-info"},X={class:"user-profile-header flex-column"},Y={class:"user-username"},ee={class:"user-email"},se={class:"user-profile-main flex"},te={class:"user-info-stat average-wpm flex-column"},ne=e("h2",{class:"user-stat-title"}," Average wpm",-1),oe={class:"user-info-stat flex-column"},ie=e("h2",{class:"user-stat-title"},"Time typing",-1),le={class:"time-typing"},re={class:"user-info-stat tests-completed flex-column"},ae=e("h2",{class:"user-stat-title"},"Tests completed",-1),ue=w({__name:"UserInfo",props:{user:null,userTests:null},setup(a){const s=a,t=W(),l=_(()=>t.getAppTheme),m=_(()=>s.user.username.split(" ").map(n=>n[0].toUpperCase()+n.slice(1)).join(" ")),u=_(()=>{if(!s.userTests||!Array.isArray(s.userTests))return"--";const n=s.userTests.reduce((o,g)=>(o+=g.wpm,o),0);return Math.round(n/s.userTests.length)}),i=_(()=>{if(!s.userTests||!Array.isArray(s.userTests))return"--";const n=s.userTests.reduce((o,g)=>(o+=g.time,o),0);return new Date(n*1e3).toISOString().slice(11,19)});return(n,o)=>(r(),d("section",Q,[e("header",X,[y(c(U),{class:A(["user-avatar w-3 h-4 text-white-500",{"user-dark":c(l)==="light","user-light":c(l)==="dark"}])},null,8,["class"]),e("h2",Y,h(c(m)),1),e("h3",ee,h(s.user.email),1)]),e("main",se,[e("div",te,[ne,e("h1",null,h(c(u)),1)]),e("div",oe,[ie,e("h1",le,h(c(i)),1)]),e("div",re,[ae,e("h1",null,h(s.userTests===null||!Array.isArray(s.userTests)?"--":s.userTests.length),1)])])]))}});const de=w({__name:"Profile",emits:["loginWithEmail","loginWithGoogle"],setup(a){const s=C(),t=_(()=>s.getLoggedInUser),l=_(()=>s.getUserTests),m=T(!1);async function u(o){await s.login(o)}async function i(){await s.loginWithGoogle()}async function n(o){await s.signup(o)}return(o,g)=>c(t)?(r(),$(ue,{key:0,user:c(t),userTests:c(l)},null,8,["user","userTests"])):(r(),$(K,{key:1,isWithEmail:m.value,user:c(t),onSetEmailOption:g[0]||(g[0]=E=>m.value=E),onEmailLogin:u,onLoginWithGoogle:i,onRegister:n},null,8,["isWithEmail","user"]))}});export{de as default};
