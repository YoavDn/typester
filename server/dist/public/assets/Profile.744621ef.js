import{o as l,a as m,b as e,d as y,x as $,D as f,E as v,v as x,l as T,t as h,g as k,e as c,s as g,B as w,u as W,c as _,n as U,z as A,A as C}from"./index.3c71de5d.js";import{r as L}from"./UserIcon.6c0e818a.js";function S(a,s){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})])}const V={class:"login-form"},B=["onClick"],I=y({__name:"Register",emits:["handleRegister"],setup(a,{emit:s}){const t=$({username:"",password:"",email:""});function r(){s("handleRegister",t),t.email="",t.password="",t.username=""}return(d,u)=>(l(),m("form",V,[f(e("input",{"onUpdate:modelValue":u[0]||(u[0]=o=>t.email=o),name:"text",type:"email",placeholder:"Email",required:""},null,512),[[v,t.email]]),f(e("input",{"onUpdate:modelValue":u[1]||(u[1]=o=>t.username=o),name:"text",type:"text",placeholder:"Username",required:""},null,512),[[v,t.username]]),f(e("input",{"onUpdate:modelValue":u[2]||(u[2]=o=>t.password=o),name:"password",type:"password",placeholder:"Password",required:""},null,512),[[v,t.password]]),e("button",{onClick:x(r,["prevent"]),class:"login-btn"},"Sign up",8,B)]))}}),M={width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},R=e("path",{fill:"#EA4335",d:"M5.266 9.765A7.077 7.077 0 0 1 12 4.909c1.69 0 3.218.6 4.418 1.582L19.91 3C17.782 1.145 15.055 0 12 0 7.27 0 3.198 2.698 1.24 6.65l4.026 3.115Z"},null,-1),b=e("path",{fill:"#34A853",d:"M16.04 18.013c-1.09.703-2.474 1.078-4.04 1.078a7.077 7.077 0 0 1-6.723-4.823l-4.04 3.067A11.965 11.965 0 0 0 12 24c2.933 0 5.735-1.043 7.834-3l-3.793-2.987Z"},null,-1),G=e("path",{fill:"#4A90E2",d:"M19.834 21c2.195-2.048 3.62-5.096 3.62-9 0-.71-.109-1.473-.272-2.182H12v4.637h6.436c-.317 1.559-1.17 2.766-2.395 3.558L19.834 21Z"},null,-1),O=e("path",{fill:"#FBBC05",d:"M5.277 14.268A7.12 7.12 0 0 1 4.909 12c0-.782.125-1.533.357-2.235L1.24 6.65A11.934 11.934 0 0 0 0 12c0 1.92.445 3.73 1.237 5.335l4.04-3.067Z"},null,-1),q=[R,b,G,O];function D(a,s){return l(),m("svg",M,q)}const N={render:D},Z={key:0,class:"login-signup-page"},z={class:"login-title"},P={key:0,class:"login-with-options flex-column"},j=e("h2",null,"continue with google",-1),H=e("h2",null,"continue with Email",-1),F={key:1,class:"login-form"},J=["onClick"],K={key:3,class:"sign-up-p"},Q=y({__name:"Login",props:{isWithEmail:null,user:null},emits:["setEmailOption","emailLogin","loginWithGoogle","handleRegister","register"],setup(a,{emit:s}){const t=T(!1),r=$({username:"",password:""});function d(){s("emailLogin",r),r.username="",r.password=""}function u(o){s("register",o)}return(o,n)=>a.user?g("",!0):(l(),m("section",Z,[e("h2",z,h(t.value?"Resgister":"Log in")+" to Typester",1),a.isWithEmail?g("",!0):(l(),m("div",P,[e("div",{onClick:n[0]||(n[0]=i=>o.$emit("loginWithGoogle")),class:"login-option google flex"},[k(c(N)),j]),e("div",{onClick:n[1]||(n[1]=i=>o.$emit("setEmailOption",!0)),class:"login-option email flex"},[k(c(S),{class:"email-svg"}),H])])),a.isWithEmail&&!t.value?(l(),m("form",F,[f(e("input",{"onUpdate:modelValue":n[2]||(n[2]=i=>r.username=i),name:"text",type:"text",placeholder:"Username",required:""},null,512),[[v,r.username]]),f(e("input",{"onUpdate:modelValue":n[3]||(n[3]=i=>r.password=i),name:"password",type:"password",placeholder:"Password",required:""},null,512),[[v,r.password]]),e("button",{onClick:x(d,["prevent"]),class:"login-btn"},"Login",8,J)])):g("",!0),t.value?(l(),w(I,{key:2,onHandleRegister:u})):g("",!0),a.isWithEmail&&!t.value?(l(),m("p",K,"Doesn't have an account ?")):g("",!0),a.isWithEmail&&!t.value?(l(),m("button",{key:4,onClick:n[4]||(n[4]=i=>t.value=!0),class:"sign-up-btn"},"Sign up")):g("",!0),a.isWithEmail?(l(),m("p",{key:5,class:"other-login-options",onClick:n[5]||(n[5]=i=>(o.$emit("setEmailOption",!1),t.value=!1))}," \u2190 Other Login Options")):g("",!0)]))}});const X={class:"user-info"},Y={class:"user-profile-header flex-column"},ee=["src"],se=A(' alt="user image url"> '),te={class:"user-username"},ne={class:"user-email"},ie={class:"user-profile-main flex"},oe={class:"user-info-stat average-wpm flex-column"},le=e("h2",{class:"user-stat-title"}," Average wpm",-1),re={class:"user-info-stat flex-column"},ae=e("h2",{class:"user-stat-title"},"Time typing",-1),ue={class:"time-typing"},ce={class:"user-info-stat tests-completed flex-column"},me=e("h2",{class:"user-stat-title"},"Tests completed",-1),de=y({__name:"UserInfo",props:{user:null,userTests:null},setup(a){const s=a,t=W(),r=_(()=>t.getAppTheme),d=_(()=>s.user.username.split(" ").map(n=>n[0].toUpperCase()+n.slice(1)).join(" ")),u=_(()=>{if(!s.userTests||!Array.isArray(s.userTests))return"--";if(s.userTests.length===0)return 0;const n=s.userTests.reduce((i,p)=>(i+=p.wpm,i),0);return Math.round(n/s.userTests.length)}),o=_(()=>{if(!s.userTests||!Array.isArray(s.userTests))return"--";const n=s.userTests.reduce((i,p)=>(i+=p.time,i),0);return new Date(n*1e3).toISOString().slice(11,19)});return(n,i)=>(l(),m("section",X,[e("header",Y,[s.user.imgUrl?(l(),m("img",{key:1,class:"user-imgurl",src:s.user.imgUrl,alt:"user image url"},null,8,ee)):(l(),w(c(L),{key:0,class:U(["user-avatar w-3 h-4 text-white-500",{"user-dark":c(r)==="light","user-light":c(r)==="dark"}])},null,8,["class"])),se,e("h2",te,h(c(d)),1),e("h3",ne,h(s.user.email),1)]),e("main",ie,[e("div",oe,[le,e("h1",null,h(c(u)),1)]),e("div",re,[ae,e("h1",ue,h(c(o)),1)]),e("div",ce,[me,e("h1",null,h(s.userTests===null||!Array.isArray(s.userTests)?"--":s.userTests.length),1)])])]))}});const he=y({__name:"Profile",emits:["loginWithEmail","loginWithGoogle"],setup(a){const s=C(),t=_(()=>s.getLoggedInUser),r=_(()=>s.getUserTests);s.setLoggedInUser();const d=T(!1);async function u(i){await s.login(i)}async function o(){await s.loginWithGoogle()}async function n(i){await s.signup(i)}return(i,p)=>c(t)?(l(),w(de,{key:0,user:c(t),userTests:c(r)},null,8,["user","userTests"])):(l(),w(Q,{key:1,isWithEmail:d.value,user:c(t),onSetEmailOption:p[0]||(p[0]=E=>d.value=E),onEmailLogin:u,onLoginWithGoogle:o,onRegister:n},null,8,["isWithEmail","user"]))}});export{he as default};
